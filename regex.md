# regex
1. 匹配电邮 john.doe@example.com  alice\_bob123@domain.org  a-b.c@website.net
    ```bash
    ^[a-z0-9]+([.-_]?[a-z0-9]+)*@[a-z]+\.(com|net|org)$
    // [.-_]?                 保证这3个符号可有可无, 且只能有一个, 言外之意不能连续
    // [a-z0-9]+              匹配多个字母或数字
    // ([.-_]?[a-z0-9]+)*     (...)前面的可以有0组或n组, 可以匹配abc_aaa_aa-90
    ```
2. 匹配日期 YYYY-MM-DD
    * 年份（YYYY）：4位数字，如 2025、1999
    * 月份（MM）：01 到 12（注意前导0）
    * 日期（DD）：01 到 31（注意前导0）
    ```bash
    我的想法: [1-2][0-9]{3}-[0|1][0-9]-[0|1|2|3][0-9]  |在[]是普通字符集不是或的意思
    正确写法: ^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$
    |表示或, 外面要有小括号
    ```
3. 匹配ipv4地址
    * 不应该匹配超过256，只能匹配4段，不能匹配前导0  192.168.001.001
    ```bash
    我的想法：([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).{3}([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])
    # 1位 | 2位 | 3位 分为 1xx 20x 21x 22x 23x 24x 25[0-5] 
    正确的写法:
    ^(0|[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.
    (0|[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.
    (0|[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.
    (0|[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-5])$
    # 前面有0是为了匹配0.0.0.0
    # [1-9][0-9]?       匹配 1位或2位
    ```
4. 匹配合法的用户名
   规则:(1) 必须由英文字母、数字、下划线 _ 组成
        (2) 必须以字母开头
        (3) 长度必须在 5~12 个字符之间
    ```bash
     ^[a-zA-Z][a-zA-Z0-9_]{4,11}$
    ```
5. 匹配以 ¥（人民币符号）开头
   整数部分不能以 0 开头
   小数部分可选，但如果有，则必须是 .00 或 .0x（精确到两位）
   整体必须是一个完整的金额（不能有多余字符）
```bash
^¥0 | ^¥[1-9][0-9]+ | ^¥[1-9][0-9]+ | ^¥[1-9][0-9]+\.[0-9]{2}
# 问题: | 是逻辑或需要 ( ) 包裹分组, ^¥是公共的提取出来, 剩下的用( )包裹
```
```bash
^¥(0 | [1-9][0-9]*)(\.[0-9]{2})?$
# ^¥(0 | [1-9][0-9]*) 用( )分组, 里面是| 匹配 ¥12 ¥100 ¥0 ...
# (\.[0-9]{2})?$      后面跟了?, 说明前面的( )分组里的小数点后是可选
```
6. 匹配中国大陆合法的11位手机号码
   必须11位数字, 以1开头, 第二位必须是3~9中的任意一位, 其余9位可以是任意数字
```bash
^1[3-9][0-9]{9}$
```
7. 前向断言和后向断言
匹配时不会包含这部分内容, 只用于判断. 
前向断言(我想匹配的x在前面,后面一定是y): x(?=y), 我要匹配x, 但后面紧跟y, y不被匹配
                                      x(?!y), 我要匹配x, 但后面不能y, y不被匹配
```bash
要匹配后面跟着USD的数字   100USD   \d+(?=USD)
匹配不以.jpg结尾的文件名           \w+\.(?!jpg)\w+
```
后向断言(我想匹配的x在后面,前面一定是y): (?<=y)x, 我要匹配x, 前面紧跟y, y不被匹配
                                      (?<!y)x, 我要匹配x, 前面不能y, y不被匹配
```bash
匹配USD100中的100                 (?<=USD)\d+
匹配不以USD开头的数字              (?<!USD)\d+
```
```bash
今天买菜花了 30元，打车 45元，买咖啡 18元，明天计划花 100 元。
# 在这段文字中, 提取紧跟"元"子的数字金额
# 我想提取的是数字"在前面",后面要紧跟元, 用前向断言
\d+(?=元)
```
```bash
共计 ￥88，优惠 ￥10，运费 ￥0
# 匹配“前面是￥符号的金额数字
# 我想匹配的数字在后面, 前面是￥, 用后向断言
(?<=￥)\d+
```
8. 匹配 http:// 和 https:// ftp:// mailto: file:///
```bash
我的想法: [http|https]:// 这是错误的，因为[ ]里面只能匹配字符，不能匹配字符串
应该是:    ^http(s)?://   或者   ^https://

http://example.com  
https://secure.example.com  
ftp://files.example.com  
mailto:someone@example.com  
file:///home/user/file.txt  
random text
只匹配协议前缀，不匹配后面的路径或邮箱地址
```
```bash
(?:https?|ftp)://|file:///|mailto:
# ?:说明这个括号是非捕获组
```
9. 匹配身份证号